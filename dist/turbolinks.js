(function(){this.Turbolinks={supported:!0,visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()}}}).call(this),function(){var t,e;Turbolinks.copyObject=function(t){var e,n,o;n={};for(e in t)o=t[e],n[e]=o;return n},Turbolinks.closest=function(e,n){return t.call(e,n)},t=function(){var t,n;return t=document.documentElement,null!=(n=t.closest)?n:function(t){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&e.call(n,t))return n;n=n.parentNode}}}(),Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.dispatch=function(t,e){var n,o,r,i,s;return i=null!=e?e:{},s=i.target,n=i.cancelable,o=i.data,r=document.createEvent("Events"),r.initEvent(t,!0,n===!0),r.data=o,(null!=s?s:document).dispatchEvent(r),r},Turbolinks.match=function(t,n){return e.call(t,n)},e=function(){var t,e,n,o;return t=document.documentElement,null!=(e=null!=(n=null!=(o=t.matchesSelector)?o:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),Turbolinks.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,o,r;return t.box=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t;return null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0},t.prototype.isHTML=function(){var t;return t=this.getExtension(),".html"===t||null==t},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return o(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},o=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.classList.add("turbolinks-progress-bar"),t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n;return n=500,e.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},e.prototype.visitStarted=function(t){return t.changeHistory(),t.issueRequest(),t.restoreSnapshot()},e.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.snapshotRestored?void 0:t.hasSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},e.prototype.visitRequestCompleted=function(t){return t.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case Turbolinks.HttpRequest.NETWORK_FAILURE:case Turbolinks.HttpRequest.TIMEOUT_FAILURE:return this.reload();default:return t.loadResponse()}},e.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},e.prototype.visitResponseLoaded=function(t){return t.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,n)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=!1,addEventListener("load",function(){return Turbolinks.defer(function(){return t=!0})},!1),Turbolinks.History=function(){function n(t){this.delegate=t,this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},n.prototype.push=function(t,e){return t=Turbolinks.Location.box(t),this.update("push",t,e)},n.prototype.replace=function(t,e){return t=Turbolinks.Location.box(t),this.update("replace",t,e)},n.prototype.onPopState=function(t){var e,n,o,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=Turbolinks.Location.box(window.location),o=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,o)):void 0},n.prototype.shouldHandlePopState=function(){return t===!0},n.prototype.update=function(t,e,n){var o;return o={turbolinks:{restorationIdentifier:n}},history[t+"State"](o,null,e)},n}()}.call(this),function(){Turbolinks.ElementSet=function(){function t(t){var e;this.elements=function(){var n,o,r;for(r=[],n=0,o=t.length;o>n;n++)e=t[n],e.nodeType===Node.ELEMENT_NODE&&r.push({element:e,value:e.outerHTML});return r}()}return t.prototype.selectElementsMatchingSelector=function(t){var e,n,o;return n=function(){var n,r,i,s,a;for(i=this.elements,a=[],n=0,r=i.length;r>n;n++)s=i[n],e=s.element,o=s.value,Turbolinks.match(e,t)&&a.push(e);return a}.call(this),new this.constructor(n)},t.prototype.getElementsNotPresentInSet=function(t){var e,n,o,r;return o=t.getElementIndex(),n=function(){var t,n,i,s,a;for(i=this.elements,a=[],t=0,n=i.length;n>t;t++)s=i[t],e=s.element,r=s.value,r in o||a.push(e);return a}.call(this),new this.constructor(n)},t.prototype.getElements=function(){var t,e,n,o,r;for(o=this.elements,r=[],e=0,n=o.length;n>e;e++)t=o[e].element,r.push(t);return r},t.prototype.getValues=function(){var t,e,n,o,r;for(n=this.elements,o=[],t=0,e=n.length;e>t;t++)r=n[t].value,o.push(r);return o},t.prototype.isEqualTo=function(t){return this.toString()===(null!=t?t.toString():void 0)},t.prototype.toString=function(){return this.getValues().join("")},t.prototype.getElementIndex=function(){var t,e,n;return null!=this.elementIndex?this.elementIndex:this.elementIndex=function(){var o,r,i,s;for(e={},i=this.elements,o=0,r=i.length;r>o;o++)s=i[o],t=s.element,n=s.value,e[n]=t;return e}.call(this)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,n;n=t.head,e=t.body,this.head=n,this.body=e}return t.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,new this({head:e.querySelector("head"),body:e.querySelector("body")})},t.prototype.hasAnchor=function(t){return null!=this.body.querySelector("#"+t)},t.prototype.hasSameTrackedHeadElementsAsSnapshot=function(t){return this.getTrackedHeadElementSet().isEqualTo(t.getTrackedHeadElementSet())},t.prototype.getInlineHeadElementsNotPresentInSnapshot=function(t){var e,n;return n=this.getInlineHeadStyleElementSet().getElementsNotPresentInSet(t.getInlineHeadStyleElementSet()),e=this.getInlineHeadScriptElementSet().getElementsNotPresentInSet(t.getInlineHeadScriptElementSet()),n.getElements().concat(e.getElements())},t.prototype.getTemporaryHeadElements=function(){return this.getTemporaryHeadElementSet().getElements()},t.prototype.getTrackedHeadElementSet=function(){return null!=this.trackedHeadElementSet?this.trackedHeadElementSet:this.trackedHeadElementSet=this.getPermanentHeadElementSet().selectElementsMatchingSelector("[data-turbolinks-track=reload]")},t.prototype.getInlineHeadStyleElementSet=function(){return null!=this.inlineHeadStyleElementSet?this.inlineHeadStyleElementSet:this.inlineHeadStyleElementSet=this.getPermanentHeadElementSet().selectElementsMatchingSelector("style")},t.prototype.getInlineHeadScriptElementSet=function(){return null!=this.inlineHeadScriptElementSet?this.inlineHeadScriptElementSet:this.inlineHeadScriptElementSet=this.getPermanentHeadElementSet().selectElementsMatchingSelector("script:not([src])")},t.prototype.getPermanentHeadElementSet=function(){return null!=this.permanentHeadElementSet?this.permanentHeadElementSet:this.permanentHeadElementSet=this.getHeadElementSet().selectElementsMatchingSelector("script, style, link[href], [data-turbolinks-track=reload]")},t.prototype.getTemporaryHeadElementSet=function(){return null!=this.temporaryHeadElementSet?this.temporaryHeadElementSet:this.temporaryHeadElementSet=this.getHeadElementSet().getElementsNotPresentInSet(this.getPermanentHeadElementSet())},t.prototype.getHeadElementSet=function(){return null!=this.headElementSet?this.headElementSet:this.headElementSet=new Turbolinks.ElementSet(this.head.childNodes)},t}()}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Turbolinks.ElementPool=function(){function e(t){var e,n,o;for(null==t&&(t=[]),this.elements={},n=0,o=t.length;o>n;n++)e=t[n],this.storeElement(e)}return e.prototype.storeElement=function(e){var n,o;return o=this.getKeyForElement(e),n=this.getElementsForKey(o),t.call(n,e)<0?n.push(e):void 0},e.prototype.retrieveMatchingElement=function(t){var e,n;return n=this.getKeyForElement(t),e=this.getElementsForKey(n),e.shift()},e.prototype.getKeyForElement=function(t){return t.outerHTML},e.prototype.getElementsForKey=function(t){var e;return null!=(e=this.elements)[t]?e[t]:e[t]=[]},e}()}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t}var e,n,o,r,i,s,a,u,l;return t.prototype.loadDocumentHTML=function(t){return document.documentElement.innerHTML=t,e()},t.prototype.loadSnapshotHTML=function(t){var e;return e=Turbolinks.Snapshot.fromHTML(t),this.loadSnapshot(e)},t.prototype.loadSnapshot=function(t){return this.renderSnapshot(t)},t.prototype.saveSnapshot=function(){return s(!0)},t.prototype.renderSnapshot=function(t){var e,n,r,i,l,h,c,p,d,f,y,v;if(e=s(!1),!e.hasSameTrackedHeadElementsAsSnapshot(t))return this.delegate.viewInvalidated(),!1;for(f=t.getInlineHeadElementsNotPresentInSnapshot(e),r=0,h=f.length;h>r;r++)n=f[r],document.head.appendChild(n.cloneNode(!0));for(y=e.getTemporaryHeadElements(),i=0,c=y.length;c>i;i++)n=y[i],document.head.removeChild(n);for(v=t.getTemporaryHeadElements(),l=0,p=v.length;p>l;l++)n=v[l],document.head.appendChild(n.cloneNode(!0));return d=t.body.cloneNode(!0),a(d),u(d),document.body=d,o(),this.delegate.viewRendered(),t},s=function(t){return new Turbolinks.Snapshot({head:l(document.head,t),body:l(document.body,t)})},a=function(t){var e,n,o,i,s,a;for(s=r(document.body),a=[],e=0,n=s.length;n>e;e++)o=s[e],(i=t.querySelector("[id='"+o.id+"']"))?a.push(i.parentNode.replaceChild(o,i)):a.push(void 0);return a},u=function(t){var e,n,o,r,s,a,u;for(e=new Turbolinks.ElementPool(i(document.body)),a=i(t),u=[],n=0,o=a.length;o>n;n++)s=a[n],(r=e.retrieveMatchingElement(s))?u.push(s.parentNode.replaceChild(r,s)):u.push(void 0);return u},r=function(t){return t.querySelectorAll("[id][data-turbolinks-permanent]")},i=function(t){return t.querySelectorAll("[data-turbolinks-recyclable]")},l=function(t,e){return e?t.cloneNode(!0):t},e=function(){var t,e,o,r,i,s;for(i=document.querySelectorAll("script"),s=[],t=0,e=i.length;e>t;t++)r=i[t],o=n(r),s.push(r.parentNode.replaceChild(o,r));return s},n=function(t){var e;return e=document.createElement("script"),t.hasAttribute("src")?e.src=t.getAttribute("src"):e.textContent=t.textContent,e},o=function(){var t;return null!=(t=document.body.querySelector("[autofocus]"))?t.focus():void 0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(t){return t.scrollIntoView()},e.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},e.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){Turbolinks.Cache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var e;return t.prototype.has=function(t){var n;return n=e(t),n in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var n;return n=e(t),this.snapshots[n]},t.prototype.write=function(t,n){var o;return o=e(t),this.snapshots[o]=n},t.prototype.touch=function(t){var n,o;return o=e(t),n=this.keys.indexOf(o),n>-1&&this.keys.splice(n,1),this.keys.unshift(o),this.trim()},t.prototype.trim=function(){var t,e,n,o,r;for(o=this.keys.splice(this.size),r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(delete this.snapshots[e]);return r},e=function(t){return Turbolinks.Location.box(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function e(e,n,o){this.delegate=e,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=Turbolinks.Location.box(n).requestURL,this.referrer=Turbolinks.Location.box(o).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},e.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},e.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},e.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){Turbolinks.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.promise=new Promise(function(t){return function(n,o){return t.resolve=n,t.reject=o,t.identifier=Turbolinks.uuid(),t.location=Turbolinks.Location.box(e),t.adapter=t.controller.adapter,t.state="initialized"}}(this))}var e;return t.prototype.start=function(){return"initialized"===this.state?(this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.resolve()):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed&&t.visitFailed(this),this.reject()):void 0},t.prototype.then=function(){var t;return(t=this.promise).then.apply(t,arguments)},t.prototype["catch"]=function(){var t;return(t=this.promise)["catch"].apply(t,arguments)},t.prototype.changeHistory=function(){var t,n;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,n=e(t),this.controller[n](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.hasSnapshot=function(){var t;return(t=this.controller.getSnapshotForLocation(this.location))?null!=this.location.anchor?t.hasAnchor(this.location.anchor):!0:!1},t.prototype.restoreSnapshot=function(){return this.hasSnapshot()&&!this.snapshotRestored?this.render(function(){var t;return this.saveSnapshot(),(this.snapshotRestored=this.controller.restoreSnapshotForLocation(this.location))&&(this.performScroll(),"function"==typeof(t=this.adapter).visitSnapshotRestored&&t.visitSnapshotRestored(this),!this.shouldIssueRequest())?this.complete():void 0}):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.saveSnapshot(),this.request.failed?(this.controller.loadErrorResponse(this.response),this.performScroll(),"function"==typeof(t=this.adapter).visitResponseLoaded&&t.visitResponseLoaded(this),this.fail()):(this.controller.loadResponse(this.response),this.performScroll(),"function"==typeof(e=this.adapter).visitResponseLoaded&&e.visitResponseLoaded(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.box(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"===this.action?!this.hasSnapshot():!0},t.prototype.saveSnapshot=function(){return this.snapshotSaved?void 0:(this.controller.saveSnapshot(),this.snapshotSaved=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function e(){this.visitFinished=t(this.visitFinished,this),this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache()}return e.prototype.start=function(){return this.started?void 0:(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0)},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new Turbolinks.Cache(10)},e.prototype.visit=function(t,e){var n,o;return null==e&&(e={}),t=Turbolinks.Location.box(t),this.applicationAllowsVisitingLocation(t)?(n=null!=(o=e.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):void 0},e.prototype.loadResponse=function(t){return this.view.loadSnapshotHTML(t),this.notifyApplicationAfterResponseLoad()},e.prototype.loadErrorResponse=function(t){return this.view.loadDocumentHTML(t),this.disable()},e.prototype.startVisitToLocationWithAction=function(t,e,n){var o;return o=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:o})},e.prototype.startHistory=function(){return this.location=Turbolinks.Location.box(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.box(t),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.box(t),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.box(t)):this.adapter.pageInvalidated()},e.prototype.hasSnapshotForLocation=function(t){return this.cache.has(t)},e.prototype.saveSnapshot=function(){var t;return this.notifyApplicationBeforeSnapshotSave(),t=this.view.saveSnapshot(),this.cache.put(this.lastRenderedLocation,t)},e.prototype.restoreSnapshotForLocation=function(t){var e;return(e=this.getSnapshotForLocation(t))?(this.view.loadSnapshot(e),this.notifyApplicationAfterSnapshotLoad(),!0):void 0},e.prototype.getSnapshotForLocation=function(t){return this.cache.get(t)},e.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},e.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},e.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(t){var e,n,o;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(o=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,o)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(o,{action:e})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return this.dispatchEvent("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},e.prototype.applicationAllowsVisitingLocation=function(t){return this.dispatchEvent("turbolinks:visit",{data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeSnapshotSave=function(){return this.dispatchEvent("turbolinks:snapshot-save")},e.prototype.notifyApplicationAfterSnapshotLoad=function(){return this.dispatchEvent("turbolinks:snapshot-load")},e.prototype.notifyApplicationAfterResponseLoad=function(){return this.dispatchEvent("turbolinks:response-load")},e.prototype.notifyApplicationAfterPageLoad=function(){return this.dispatchEvent("turbolinks:load")},e.prototype.startVisit=function(t,e,n){var o;return null!=(o=this.currentVisit)&&o.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start()},e.prototype.createVisit=function(t,e,n){var o,r,i,s,a;return r=null!=n?n:{},s=r.restorationIdentifier,i=r.restorationData,o=r.historyChanged,a=new Turbolinks.Visit(this,t,e),a.restorationIdentifier=null!=s?s:Turbolinks.uuid(),a.restorationData=Turbolinks.copyObject(i),a.historyChanged=o,a.referrer=this.location,a.then(this.visitFinished),a},e.prototype.visitFinished=function(){return this.notifyApplicationAfterPageLoad()},e.prototype.dispatchEvent=function(){var t;return t=Turbolinks.dispatch.apply(Turbolinks,arguments),!t.defaultPrevented},e.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},e.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target])"):void 0},e.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.href),this.locationIsVisitable(e)?e:void 0},e.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},e.prototype.nodeIsVisitable=function(t){var e;return(e=Turbolinks.closest(t,"[data-turbolinks]"))?"false"!==e.getAttribute("data-turbolinks"):!0},e.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.getRootLocation())&&t.isHTML()},e.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},e.prototype.getSetting=function(t){var e,n;return n=document.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},e}(),function(){var t;return Turbolinks.controller=t=new Turbolinks.Controller,t.adapter=new Turbolinks.BrowserAdapter(t),t.start()}()}.call(this);